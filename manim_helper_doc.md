# Json 脚本参数说明

## Script 脚本
- Script 脚本定义了场景中所存在的元素，及它们的初始属性
- Script 脚本由一对大括号开始，其中包含许多对象，由对象名作为键值，对象属性作为值定义：

```json
    {
        "title": {
            "value": "Hello, world!"
        }
    }
```

- 在上面的脚本中，`title`是以后其他地方引用此对象的名称
- 为便于标识，对于 Script 中定义的对象名和实际引用的对象名有如下关系：
    
    1. 定义时对象名中的所有 `-` 字符将被替换为 `_`
    2. 定义时对象名前的序号，例如 `1.`, `3.`，将被转化为 `_1`, `_3` 作为后缀加在原对象名上

    > 例如 `3.word-list` 将被转化为 `word_list_3`
- 当对象的所有属性值被一个对象描述时，其中必须有 `value` 这一属性来描述对象的实际值
- 所有目前可用属性列在下表

| 属性名 |   属性值类型     |     描述     |    备注
| ----- |  ------------- |  ---------   | -------
| value | 字符串,对象引用  | 指定对象的内容  |
| type  |     字符串      | 指定对象类型   |  值为 manim 对象名首字母小写
| color | 字符串 | 描述对象颜色 | 值可以为颜色名或十六进制值
| scale | 浮点数,字符串 | 描述对象缩放 | 当值为字符串时将进行表达式求值
| shift | 字符串 | 描述对象的位移 | 字符串将进行表达式求值
| move_to | 对象引用 | 描述对象相对位置 |
| properties | Json 对象 | 传入 Manim 对象构造器的额外参数 | 

- 若不指定 `type` 属性，默认为 `text`

- **对象引用语法**：`$` + 对象名称

- 对象组创建：
    
    - 当对象值为一个数组时，此对象被视为`对象组`
    - 数组内的所有值为组成员的名称 **(无需使用 `$` 前缀)**
    ```json
        {
            "title": {
                "value": "This is title"
            },
            "subtitle": {
                "value": "This is subtitle"
            },
            "title-group": [
                "title", "subtitle"
            ]
        }
    ```
    - 此处的 `title-group` 即为包含 `title` 与 `subtitle` 的对象组，此后若引用 `title-group` 进行操作等效于**对其中所有对象同时进行相关操作**

- 为简化简单对象的创建，若对象值为字符串，则视为 `value` 属性为该字符串，`type` 属性为 `text` 的对象
```json
    {
        "simple-text": "Hello"
    }
```

等效于
```json
    {
        "simple-text": {
            "value": "hello",
            "type": "text"
        }
    }
```

## Action 脚本

- Action 脚本由一对大括号开始，描述动画的播放流程。其中包含了许多场景，由场景名作为键值，场景流程作为值定义：

```json
    {
        "scene1_name": [],
        "scene2_name": [], 
        ...
    }
```


- 通常，一个场景已经足够应对绝大多数的需求
